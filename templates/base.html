{% load sekizai_tags static menus %}
{% top_page page as top %}

{% all_menus request.LANGUAGE_CODE top as menus %}

<!DOCTYPE html>
<html lang="{{request.LANGUAGE_CODE}}">
  <head>
    <!-- Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>{% block title %}
      {% if page is not top %}
      {{title|default:page.title}} - {% endif %}
      {{top.title}}
      {% endblock %}</title>
    {% block meta %}
    {{meta_tags}}
    {% endblock %}

    {% include 'includes/base_style.html' %}

    {% render_block 'css' %}

  </head>
  <body>

    <div class="ui vertical primary sidebar menu">
      <a class="item {% if page == top %}active{% endif %}" href="{{top.get_absolute_url}}">{{top.title}}</a>
      {% include 'includes/nav_items.html' with menu=menus.main vertical=True %}
    </div>


    <!-- Page Contents -->
    <div class="pusher">
      <div class="ui center aligned basic segment">
        <div class="ui container">
          {% block navigation %}
          <div id="menu" class="ui fixed top primary menu">
            <div class="ui container">
              <a id="sidebar-icon" class="toc item">
                <i class="sidebar primary icon"></i>
              </a>
              <a id="brand" class="item" href="{{top.get_absolute_url}}">{{top.title}}</a>
              {% include 'includes/nav_items.html' with menu=menus.main %}
            </div>
          </div>
          {% endblock %}
        </div>
      </div>

      <div class="ui vertical segment">
        <div class="ui container">
          {% block header %}
          <h1 class="ui primary center aligned header">
            {{title|default:page.title}}
          </h1>
          {% endblock %}
          {% block breadcrumbs %}
          {% include 'includes/breadcrumbs.html' %}
          {% endblock %}
        </div>
      </div>

      {% block content %}
      {% endblock %}



      <div class="ui inverted vertical footer segment">
        <div class="ui container">
          <div class="ui stackable inverted divided equal height stackable grid">
            <div class="three wide column">
              <h4 class="ui inverted header">Weitere Links</h4>
              <div class="ui inverted link list">
                {% include 'includes/nav_items.html' with menu=menus.footer %}
              </div>
            </div>
            <div class="three wide column">
              <h4 class="ui inverted header">Services</h4>
              <div class="ui inverted link list">
                <a href="#" class="item">Banana Pre-Order</a>
                <a href="#" class="item">DNA FAQ</a>
                <a href="#" class="item">How To Access</a>
                <a href="#" class="item">Favorite X-Men</a>
              </div>
            </div>
            <div class="seven wide column">
              {% block footer %}
              <h4 class="ui inverted header">Footer Header</h4>
              <p>Extra space for a call to action inside the footer that could help re-engage users.</p>
              {% endblock %}
            </div>
          </div>
        </div>
      </div>
    </div>
    {% render_block 'js' %}

    {% addtoblock 'js' %}
    <script src="https://kit.fontawesome.com/7655daeee1.js" crossorigin="anonymous">
    </script>
    {% endaddtoblock %}

    {% addtoblock 'js' %}
    <script src="{% static 'jquery.min.js' %}"></script>
    {% endaddtoblock %}
    {% addtoblock 'js' %}
    <script src="{% static 'components/visibility.js' %}"></script>
    {% endaddtoblock %}
    {% addtoblock 'js' %}
    <script src="{% static 'components/sidebar.js' %}"></script>
    {% endaddtoblock %}
    {% addtoblock 'js' %}
    <script src="{% static 'components/dropdown.js' %}"></script>
    {% endaddtoblock %}
    {% addtoblock 'js' %}
    <script src="{% static 'components/transition.js' %}"></script>
    {% endaddtoblock %}
    <script>
      $(document).ready(function() {
        // show dropdown on hover
        $('.ui.dropdown').dropdown({
          on: 'click'
        });

        // create sidebar and attach to menu open
        $('.ui.sidebar')
          .sidebar('attach events', '.toc.item')
        ;

      });
    </script>
  </body>
</html>
